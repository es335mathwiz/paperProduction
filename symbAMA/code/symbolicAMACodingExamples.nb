(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     30956,        773]
NotebookOptionsPosition[     28928,        696]
NotebookOutlinePosition[     29444,        718]
CellTagsIndexPosition[     29359,        713]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Symbolic AMA Coding Examples", "Title",
 TextAlignment->Center],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"Adjust", " ", "Directories", " ", "for", " ", "your", " ", 
     RowBox[{"environment", ".", "  ", "\[IndentingNewLine]", "Code"}], " ", 
     "expects", " ", 
     RowBox[{"Directory", "[", "]"}]}], "==", 
    "\"\<paperProduction/symbAMA/code\>\""}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{
    "SetDirectory", "[", "\"\<g:/git/paperProduction/symbAMA/code\>\"", "]"}],
     ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"$javaJDKDir", "=", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"$OperatingSystem", "\[Equal]", "\"\<Windows\>\""}], ",", 
       "\"\<C:/Program Files/Java/jdk1.7.0_51/\>\"", ",", 
       "\"\</msu/scratch2/m1gsa00/jdk1.7.0/\>\""}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"$mavenRepo", "=", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"$OperatingSystem", "\[Equal]", "\"\<Windows\>\""}], ",", 
       "\"\<r:/Software/mavenRepositories/tryRep/\>\"", ",", 
       "\"\</msu/res1/Software/mavenRepositories/tryRep/\>\""}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"$theResDir", "=", "\"\<theRes\>\""}], ";", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"Not", "[", 
       RowBox[{"FileExistsQ", "[", "$theResDir", "]"}], "]"}], ",", 
      RowBox[{"CreateDirectory", "[", "$theResDir", "]"}]}], "]"}]}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"$theModDir", "=", "\"\<dynareExamples/uniqueExamples/\>\""}], 
    ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.615919368204858*^9, 3.6159194027461667`*^9}, {
   3.6159196956043143`*^9, 3.6159197752107224`*^9}, {3.615920896262311*^9, 
   3.615920994408348*^9}, {3.61623436285985*^9, 3.6162343939568496`*^9}, {
   3.6162344615068493`*^9, 3.6162344709048495`*^9}, {3.6162345351998496`*^9, 
   3.6162345390378494`*^9}, {3.616239962022939*^9, 3.616239968902733*^9}, {
   3.6162400952089434`*^9, 3.616240098298851*^9}, {3.616240786601205*^9, 
   3.6162407950409517`*^9}, {3.616245844922455*^9, 3.616245849452319*^9}, {
   3.6162496012647614`*^9, 3.6162496701126957`*^9}, {3.616257657974053*^9, 
   3.6162576673837705`*^9}, {3.6162592618059387`*^9, 
   3.6162592626859126`*^9}, {3.616264655986267*^9, 3.616264662646067*^9}, {
   3.616313293997326*^9, 3.6163133065369496`*^9}, {3.6163133818846893`*^9, 
   3.6163134290432744`*^9}, {3.6163135175206203`*^9, 3.6163135809287176`*^9}, 
   3.616313841111912*^9, 3.6163140330261545`*^9, 3.6163157233754487`*^9, {
   3.616316215681711*^9, 3.6163162383710303`*^9}, {3.6163370220237617`*^9, 
   3.6163370262435923`*^9}, {3.616337270323935*^9, 3.61633727548378*^9}}],

Cell[CellGroupData[{

Cell["Firm Value Example", "Section"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$theModel", "=", "\"\<firmValue\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$fileForResults", "=", 
   RowBox[{
   "$theResDir", "<>", "\"\</\>\"", "<>", "$theModel", "<>", 
    "\"\<symbResults.mth\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"FileExistsQ", "[", "$fileForResults", "]"}], ",", 
    RowBox[{"Get", "[", "$fileForResults", "]"}]}], "]"}], ";", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"dStr", ",", "vrsn", ",", "machine", ",", "load"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "dimTime", ",", "preEvalsTime", ",", "ARTime", ",", "amatTime", ",", 
       "evTime", ",", "qmatTime", ",", "bmatTime"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "nEqns", ",", "nLags", ",", "nLeads", ",", "nParams", ",", "isLinearQ", 
       ",", "paramSubs", ",", "eqns", ",", "hmat", ",", "vars"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"zf", ",", "hf", ",", "amat", ",", "lilAmat", ",", "lilCols"}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"evls", ",", "evcs", ",", "qmat"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"bmat", ",", "phimat", ",", "fmat"}], "}"}]}], "}"}], "=", 
   RowBox[{"doModel", "[", 
    RowBox[{"$theModel", ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "]"}]}], ";", 
  RowBox[{"(*", 
   RowBox[{
   "gets", " ", "explicit", " ", "values", " ", "for", " ", "splicing"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"FileExistsQ", "[", "$fileForResults", "]"}], ",", 
    RowBox[{"DeleteFile", "[", "$fileForResults", "]"}]}], "]"}], ";", 
  RowBox[{"Save", "[", 
   RowBox[{"$fileForResults", ",", "doModelResults"}], "]"}], ";", 
  RowBox[{"(*", 
   RowBox[{
   "this", " ", "saves", " ", "only", " ", "the", " ", "doModelResults", " ", 
    "so", " ", "as", " ", "to", " ", "avoid", " ", "repeating", " ", 
    "multiple", " ", "copies", " ", "of", " ", "the", " ", "same", " ", 
    "result"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"Splice", "[", 
   RowBox[{"\"\<dimsRow.mtex\>\"", ",", 
    RowBox[{"$theModel", "<>", "\"\<Dims.tex\>\""}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.616263128120101*^9, 3.6162631893882627`*^9}, {
   3.6162632231872487`*^9, 3.6162632663259544`*^9}, {3.6162633067547417`*^9, 
   3.6162633293240643`*^9}, {3.61631365785641*^9, 3.616313675965866*^9}, {
   3.616314150642626*^9, 3.6163141520225844`*^9}, {3.6163317386672115`*^9, 
   3.61633179503552*^9}, 3.6163319043222413`*^9, 3.616336124556303*^9, {
   3.616337280393633*^9, 3.6163373352119884`*^9}, {3.6163374243893127`*^9, 
   3.616337424639305*^9}, 3.616337494247217*^9, {3.6163376828115597`*^9, 
   3.6163377161205606`*^9}, {3.61633797513379*^9, 3.616337976273756*^9}, {
   3.61634176827032*^9, 3.6163418549477196`*^9}}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"analyzing \"\>", "\[InvisibleSpace]", "\<\"firmValue\"\>"}],
  SequenceForm["analyzing ", "firmValue"],
  Editable->False]], "Print",
 CellChangeTimes->{3.616338163868128*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["simpleNeoViegi", "Section",
 CellChangeTimes->{{3.616258611042462*^9, 3.6162586223521223`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"$theModel", "=", "\"\<simpleNeoViegi\>\""}], ";", 
  RowBox[{"doModel", "[", 
   RowBox[{"$theModel", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.6162586290819206`*^9, 3.6162586312818546`*^9}, {
   3.6162634314610004`*^9, 3.6162634321709795`*^9}, 3.6163144039690275`*^9, 
   3.616337198776691*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"analyzing \"\>", 
   "\[InvisibleSpace]", "\<\"simpleNeoViegi\"\>"}],
  SequenceForm["analyzing ", "simpleNeoViegi"],
  Editable->False]], "Print",
 CellChangeTimes->{3.6163144118687897`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["rosenestimateBayes", "Section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$theModel", "=", "\"\<rosenestimateBayes\>\""}], ";", 
  RowBox[{"doModel", "[", 
   RowBox[{"$theModel", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{3.6162639477385125`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["fuhrerMoore", "Section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$theModel", "=", "\"\<fuhrerMoore\>\""}], ";", 
  RowBox[{"doModel", "[", 
   RowBox[{"$theModel", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{3.616264006306755*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["AltEx1", "Section",
 CellChangeTimes->{{3.6162336352738495`*^9, 3.61623363880085*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"$theModel", "=", "\"\<AltEx1\>\""}], ";", 
  RowBox[{"doModel", "[", 
   RowBox[{"$theModel", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.6162336498098497`*^9, 3.61623365699185*^9}, 
   3.6162643403317356`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["AssetPricingApproximation", "Section",
 CellChangeTimes->{{3.6163126252963877`*^9, 3.6163126318561907`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"$theModel", "=", "\"\<AssetPricingApproximation\>\""}], ";", 
  RowBox[{"doModel", "[", 
   RowBox[{"$theModel", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.6162336498098497`*^9, 3.61623365699185*^9}, {
   3.61623385532185*^9, 3.6162338578018494`*^9}, 3.616264397020035*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["BGGViegi", "Section",
 CellChangeTimes->{{3.6162336352738495`*^9, 3.61623363880085*^9}, {
  3.6162338260828495`*^9, 3.6162338360418496`*^9}, {3.6162339049438496`*^9, 
  3.6162339102618494`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"$theModel", "=", "\"\<BGGViegi\>\""}], ";", 
  RowBox[{"doModel", "[", 
   RowBox[{"$theModel", ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.6162336498098497`*^9, 3.61623365699185*^9}, {
  3.61623385532185*^9, 3.6162338578018494`*^9}, {3.6162644399507475`*^9, 
  3.616264452130382*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Initialization", "Section",
 CellChangeTimes->{{3.616312570158042*^9, 3.6163125726479673`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetOptions", "[", 
   RowBox[{"Trace", ",", 
    RowBox[{"TraceForward", "\[Rule]", "True"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"windowsQ", "[", "]"}], ":=", 
    RowBox[{"$OperatingSystem", "==", "\"\<Windows\>\""}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"windowsQ", "[", "]"}], ",", 
    RowBox[{"Print", "[", 
     RowBox[{"\"\<windows environment: executing commands in init.m\>\"", "<>", 
      RowBox[{"FindFile", "[", "\"\<init.m\>\"", "]"}]}], "]"}], ",", 
    RowBox[{"Print", "[", 
     RowBox[{"\"\<linux environment: executing commands in init.m  \>\"", "<>", 
      RowBox[{"FindFile", "[", "\"\<init.m\>\"", "]"}]}], "]"}]}], "]"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Needs", "[", "\"\<JLink`\>\"", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ReinstallJava", "[", 
   RowBox[{"CommandLine", "\[Rule]", 
    RowBox[{"$javaJDKDir", "<>", "\"\<bin/java  -showversion\>\""}]}], "]"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"Off", "[", 
   RowBox[{"Syntax", "::", "sntufn"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Needs", "[", "\"\<console`\>\"", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Off", "[", 
  RowBox[{"Global`e", "::", "tag"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Needs", "[", "\"\<utilitiesSetUp`\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Get", "[", "\"\<forSymPy.mth\>\"", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"doModel", "[", 
    RowBox[{"modName_String", ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"maxARTime", ":", 
        RowBox[{"_Integer", "|", "Real"}]}], ",", 
       RowBox[{"maxEVTime", ":", 
        RowBox[{"_Integer", "|", "Real"}]}], ",", 
       RowBox[{"maxBTime", ":", 
        RowBox[{"_Integer", "|", "Real"}]}]}], "}"}]}], "]"}], ":=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"doModel", "[", 
       RowBox[{"modName", ",", 
        RowBox[{"{", 
         RowBox[{"maxARTime", ",", "maxEVTime", ",", "maxBTime"}], "}"}]}], 
       "]"}], "=", 
      RowBox[{
       RowBox[{"doModelResults", "[", 
        RowBox[{"modName", ",", 
         RowBox[{"{", 
          RowBox[{"maxARTime", ",", "maxEVTime", ",", "maxBTime"}], "}"}]}], 
        "]"}], "=", "\[IndentingNewLine]", 
       RowBox[{"Module", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
          "dStr", ",", "vrsn", ",", "machine", ",", "load", ",", "dimTime", 
           ",", "preEvalsTime", ",", "ARTime", ",", "amatTime", ",", "evTime",
            ",", "qmatTime", ",", "bmatTime", ",", "ig", ",", "nEqns", ",", 
           "nLags", ",", "nLeads", ",", "nParams", ",", "isLinearQ", ",", 
           "paramSubs", ",", "eqns", ",", "hmat", ",", "vars", ",", "zf", ",",
            "hf", ",", "amat", ",", "lilAmat", ",", "lilCols", ",", "evls", 
           ",", "evcs", ",", "qmat", ",", "bmat", ",", "phimat", ",", 
           "fmat"}], "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"{", 
            RowBox[{"dimTime", ",", "ig"}], "}"}], "=", 
           RowBox[{"Timing", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "nEqns", ",", "nLags", ",", "nLeads", ",", "nParams", ",", 
               "isLinearQ"}], "}"}], "=", 
             RowBox[{"getModelDims", "[", 
              RowBox[{"$theModDir", ",", "modName"}], "]"}]}], "]"}]}], ";", 
          "\n", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"preEvalsTime", ",", "ig"}], "}"}], "=", 
           RowBox[{"Timing", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "ig", ",", "ig", ",", "ig", ",", "ig", ",", "ig", ",", 
               "paramSubs", ",", "eqns", ",", "hmat", ",", "vars"}], "}"}], 
             "=", 
             RowBox[{"preEvals", "[", 
              RowBox[{"$theModDir", ",", "modName", ",", "$theResDir"}], 
              "]"}]}], "]"}]}], ";", "\n", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"ARTime", ",", "ig"}], "}"}], "=", 
           RowBox[{"Timing", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"zf", ",", "hf"}], "}"}], "=", 
             RowBox[{"TimeConstrained", "[", 
              RowBox[{
               RowBox[{"symbolicAR", "[", "hmat", "]"}], ",", "maxARTime", 
               ",", 
               RowBox[{"{", 
                RowBox[{"$Failed", ",", "$Failed"}], "}"}]}], "]"}]}], 
            "]"}]}], ";", "\n", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"amatTime", ",", "ig"}], "}"}], "=", 
           RowBox[{"Timing", "[", 
            RowBox[{
             RowBox[{"amat", "=", 
              RowBox[{"symbolicTransitionMatrix", "[", "hf", "]"}]}], ";", 
             "\n", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"lilAmat", ",", "lilCols"}], "}"}], "=", 
              RowBox[{"symbolicEliminateInessentialLags", "[", 
               RowBox[{"{", 
                RowBox[{"amat", ",", 
                 RowBox[{"Range", "[", 
                  RowBox[{"Length", "[", "amat", "]"}], "]"}]}], "}"}], 
               "]"}]}]}], "]"}]}], ";", "\n", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"evTime", ",", "ig"}], "}"}], "=", 
           RowBox[{"Timing", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"evls", ",", "evcs"}], "}"}], "=", 
             RowBox[{"TimeConstrained", "[", 
              RowBox[{
               RowBox[{"Eigensystem", "[", 
                RowBox[{"Transpose", "[", "lilAmat", "]"}], "]"}], ",", 
               "maxEVTime", ",", 
               RowBox[{"{", 
                RowBox[{"$Failed", ",", "$Failed"}], "}"}]}], "]"}]}], 
            "]"}]}], ";", "\n", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"qmatTime", ",", "ig"}], "}"}], "=", 
           RowBox[{"Timing", "[", 
            RowBox[{"qmat", "=", 
             RowBox[{"genericQmat", "[", 
              RowBox[{
               RowBox[{"nEqns", "*", "nLeads"}], ",", "paramSubs", ",", 
               "evls", ",", 
               RowBox[{"toLarge", "[", 
                RowBox[{"evcs", ",", "lilCols", ",", 
                 RowBox[{"Length", "[", "amat", "]"}]}], "]"}], ",", "zf"}], 
              "]"}]}], "]"}]}], ";", "\n", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"bmatTime", ",", "ig"}], "}"}], "=", 
           RowBox[{"Timing", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"bmat", ",", "phimat", ",", "fmat"}], "}"}], "=", 
             RowBox[{"TimeConstrained", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"symbolicComputeBPhiF", "[", 
                 RowBox[{"hmat", ",", "qmat"}], "]"}], "//", "FullSimplify"}],
                ",", "maxBTime", ",", 
               RowBox[{"{", 
                RowBox[{"$Failed", ",", "$Failed", ",", "$Failed"}], "}"}]}], 
              "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"dStr", "=", 
           RowBox[{"DateString", "[", "]"}]}], ";", 
          RowBox[{"vrsn", "=", "$Version"}], ";", 
          RowBox[{"machine", "=", "$MachineName"}], ";", 
          RowBox[{"load", "=", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"$OperatingSystem", "\[Equal]", "\"\<Windows\>\""}], ",", 
             RowBox[{"{", "}"}], ",", 
             RowBox[{"ReadList", "[", 
              RowBox[{"\"\</proc/loadavg\>\"", ",", "Number", ",", "3"}], 
              "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"dStr", ",", "vrsn", ",", "machine", ",", "load"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
             "dimTime", ",", "preEvalsTime", ",", "ARTime", ",", "amatTime", 
              ",", "evTime", ",", "qmatTime", ",", "bmatTime"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
             "nEqns", ",", "nLags", ",", "nLeads", ",", "nParams", ",", 
              "isLinearQ", ",", "paramSubs", ",", "eqns", ",", "hmat", ",", 
              "vars"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
             "zf", ",", "hf", ",", "amat", ",", "lilAmat", ",", "lilCols"}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"evls", ",", "evcs", ",", "qmat"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"bmat", ",", "phimat", ",", "fmat"}], "}"}]}], "}"}]}]}],
         "]"}]}]}], ")"}], "/;", 
    RowBox[{"And", "[", 
     RowBox[{
      RowBox[{"maxARTime", ">", "0"}], ",", 
      RowBox[{"maxEVTime", ">", "0"}], ",", 
      RowBox[{"maxBTime", ">", "0"}]}], "]"}]}]}], "\n", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"the", " ", "code", " ", "below", " ", 
    RowBox[{"doesn", "'"}], "t", " ", "work", " ", "as", " ", "expected", " ", 
    RowBox[{"(", 
     RowBox[{
     "ie", " ", "as", " ", "it", " ", "works", " ", "for", " ", "ff", " ", 
      "further", " ", 
      RowBox[{"below", ".", " ", "expect"}], " ", "the", " ", "doModel", " ", 
      "should", " ", "use", " ", "doModelResults", " ", "when", " ", 
      "available"}]}]}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"doModel", "[", 
    RowBox[{"modName_String", ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"maxARTime", ":", 
        RowBox[{"_Integer", "|", "Real"}]}], ",", 
       RowBox[{"maxEVTime", ":", 
        RowBox[{"_Integer", "|", "Real"}]}], ",", 
       RowBox[{"maxBTime", ":", 
        RowBox[{"_Integer", "|", "Real"}]}]}], "}"}]}], "]"}], ":=", 
   RowBox[{
    RowBox[{"doModelResults", "[", 
     RowBox[{"modName", ",", 
      RowBox[{"{", 
       RowBox[{"maxARTime", ",", "maxEVTime", ",", "maxBTime"}], "}"}]}], 
     "]"}], "/;", 
    RowBox[{
     RowBox[{"Head", "[", 
      RowBox[{"doModelResults", "[", 
       RowBox[{"modName", ",", 
        RowBox[{"{", 
         RowBox[{"maxARTime", ",", "maxEVTime", ",", "maxBTime"}], "}"}]}], 
       "]"}], "]"}], "===", "List"}]}]}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ff", "[", 
   RowBox[{"modName_String", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"maxARTime", ":", 
       RowBox[{"_Integer", "|", "Real"}]}], ",", 
      RowBox[{"maxEVTime", ":", 
       RowBox[{"_Integer", "|", "Real"}]}], ",", 
      RowBox[{"maxBTime", ":", 
       RowBox[{"_Integer", "|", "Real"}]}]}], "}"}]}], "]"}], ":=", 
  "\"\<explicit\>\""}], "\n", 
 RowBox[{
  RowBox[{"ff", "[", 
   RowBox[{"modName_String", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"maxARTime", ":", 
       RowBox[{"_Integer", "|", "Real"}]}], ",", 
      RowBox[{"maxEVTime", ":", 
       RowBox[{"_Integer", "|", "Real"}]}], ",", 
      RowBox[{"maxBTime", ":", 
       RowBox[{"_Integer", "|", "Real"}]}]}], "}"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"doModelResults", "[", 
    RowBox[{"modName", ",", 
     RowBox[{"{", 
      RowBox[{"maxARTime", ",", "maxEVTime", ",", "maxBTime"}], "}"}]}], 
    "]"}], "/;", 
   RowBox[{
    RowBox[{"Head", "[", 
     RowBox[{"doModelResults", "[", 
      RowBox[{"modName", ",", 
       RowBox[{"{", 
        RowBox[{"maxARTime", ",", "maxEVTime", ",", "maxBTime"}], "}"}]}], 
      "]"}], "]"}], "===", "List", "\[IndentingNewLine]"}]}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.615918640439404*^9, 3.6159186501192102`*^9}, {
   3.6159187798386173`*^9, 3.6159187955783024`*^9}, {3.615918842469366*^9, 
   3.615918846029295*^9}, {3.6159188908493986`*^9, 3.615918894619323*^9}, {
   3.6159189495492244`*^9, 3.615918952404167*^9}, {3.615919482304579*^9, 
   3.6159194924543753`*^9}, {3.6159195734527564`*^9, 3.615919590463416*^9}, {
   3.615920457989072*^9, 3.615920458379064*^9}, {3.6161604672983837`*^9, 
   3.6161604808770256`*^9}, 3.616263864731003*^9, {3.6163141287832813`*^9, 
   3.616314132863159*^9}, {3.6163142111608105`*^9, 3.616314217460621*^9}, {
   3.616315300996116*^9, 3.6163153300152454`*^9}, {3.616315551620598*^9, 
   3.6163155838696303`*^9}, {3.616315632458173*^9, 3.6163156457677736`*^9}, {
   3.6163160219755077`*^9, 3.616316032365196*^9}, 3.616316078077829*^9, {
   3.6163161350301247`*^9, 3.616316140429963*^9}, {3.6163163113748436`*^9, 
   3.616316326554388*^9}, {3.6163177976025147`*^9, 3.6163178085521865`*^9}, 
   3.6163301141519413`*^9, {3.6163317220277104`*^9, 3.616331724537635*^9}, {
   3.6163335725351934`*^9, 3.6163335819349117`*^9}, 3.616334409733081*^9, {
   3.6163344464519796`*^9, 3.6163345294894886`*^9}, {3.6163359675810127`*^9, 
   3.6163359880203996`*^9}, {3.6163360201494355`*^9, 3.61633605532838*^9}, {
   3.6163360853674793`*^9, 3.6163361026469603`*^9}, {3.6163365417492275`*^9, 
   3.6163365492184057`*^9}, {3.616336808065347*^9, 3.616336811535139*^9}, {
   3.616337001454584*^9, 3.6163370161539965`*^9}, {3.6163374434387417`*^9, 
   3.616337444688704*^9}, {3.6163379249852943`*^9, 3.6163379262552567`*^9}, {
   3.616341362089505*^9, 3.616341364719426*^9}, {3.6163415675363426`*^9, 
   3.6163416707232466`*^9}}],

Cell[CellGroupData[{

Cell[BoxData["\<\"windows environment: executing commands in \
init.m\\\\\\\\rsmanas\\\\fldredir$\\\\m1gsa00\\\\AppData\\\\Roaming\\\\\
Mathematica\\\\Kernel\\\\init.m\"\>"], "Print",
 CellChangeTimes->{{3.6163173636963525`*^9, 3.616317365718292*^9}, 
   3.616317417898739*^9, 3.616317844171118*^9, 3.6163302573576455`*^9, {
   3.6163316354883003`*^9, 3.616331660953539*^9}, 3.6163360958471646`*^9, 
   3.616336159275262*^9, {3.616336574487626*^9, 3.61633657617744*^9}, {
   3.6163368165648375`*^9, 3.6163368401474247`*^9}, 3.6163373734408417`*^9, 
   3.616338157268326*^9, 3.616338418530488*^9, 3.6163392891263695`*^9, 
   3.616339610038742*^9, 3.6163396612972045`*^9, 3.6163403927595835`*^9, 
   3.616340538905199*^9, 3.6163406119350085`*^9, 3.616341417707837*^9}],

Cell[BoxData["\<\"utilitiesSetUp.m: after parser stable go back to relative \
path\"\>"], "Print",
 CellChangeTimes->{{3.6163173636963525`*^9, 3.616317365718292*^9}, 
   3.616317417898739*^9, 3.616317844171118*^9, 3.6163302573576455`*^9, {
   3.6163316354883003`*^9, 3.616331660953539*^9}, 3.6163360958471646`*^9, 
   3.616336159275262*^9, {3.616336574487626*^9, 3.61633657617744*^9}, {
   3.6163368165648375`*^9, 3.6163368401474247`*^9}, 3.6163373734408417`*^9, 
   3.616338157268326*^9, 3.616338418530488*^9, 3.6163392891263695`*^9, 
   3.616339610038742*^9, 3.6163396612972045`*^9, 3.6163403927595835`*^9, 
   3.616340538905199*^9, 3.6163406119350085`*^9, 3.6163414180478263`*^9}],

Cell[BoxData["\<\"prepac\"\>"], "Print",
 CellChangeTimes->{{3.6163173636963525`*^9, 3.616317365718292*^9}, 
   3.616317417898739*^9, 3.616317844171118*^9, 3.6163302573576455`*^9, {
   3.6163316354883003`*^9, 3.616331660953539*^9}, 3.6163360958471646`*^9, 
   3.616336159275262*^9, {3.616336574487626*^9, 3.61633657617744*^9}, {
   3.6163368165648375`*^9, 3.6163368401474247`*^9}, 3.6163373734408417`*^9, 
   3.616338157268326*^9, 3.616338418530488*^9, 3.6163392891263695`*^9, 
   3.616339610038742*^9, 3.6163396612972045`*^9, 3.6163403927595835`*^9, 
   3.616340538905199*^9, 3.6163406119350085`*^9, 3.6163414186578083`*^9}],

Cell["Global`e", "Print", "PrintUsage",
 CellChangeTimes->{3.6163414188078036`*^9},
 CellTags->"Info3616327018-4143366"],

Cell[BoxData["\<\"done reading SymbolicAMA\"\>"], "Print",
 CellChangeTimes->{{3.6163173636963525`*^9, 3.616317365718292*^9}, 
   3.616317417898739*^9, 3.616317844171118*^9, 3.6163302573576455`*^9, {
   3.6163316354883003`*^9, 3.616331660953539*^9}, 3.6163360958471646`*^9, 
   3.616336159275262*^9, {3.616336574487626*^9, 3.61633657617744*^9}, {
   3.6163368165648375`*^9, 3.6163368401474247`*^9}, 3.6163373734408417`*^9, 
   3.616338157268326*^9, 3.616338418530488*^9, 3.6163392891263695`*^9, 
   3.616339610038742*^9, 3.6163396612972045`*^9, 3.6163403927595835`*^9, 
   3.616340538905199*^9, 3.6163406119350085`*^9, 3.6163414188678017`*^9}],

Cell[BoxData["\<\"done reading NumericAMA\"\>"], "Print",
 CellChangeTimes->{{3.6163173636963525`*^9, 3.616317365718292*^9}, 
   3.616317417898739*^9, 3.616317844171118*^9, 3.6163302573576455`*^9, {
   3.6163316354883003`*^9, 3.616331660953539*^9}, 3.6163360958471646`*^9, 
   3.616336159275262*^9, {3.616336574487626*^9, 3.61633657617744*^9}, {
   3.6163368165648375`*^9, 3.6163368401474247`*^9}, 3.6163373734408417`*^9, 
   3.616338157268326*^9, 3.616338418530488*^9, 3.6163392891263695`*^9, 
   3.616339610038742*^9, 3.6163396612972045`*^9, 3.6163403927595835`*^9, 
   3.616340538905199*^9, 3.6163406119350085`*^9, 3.6163414189078007`*^9}],

Cell[BoxData["\<\"done reading AMAModel\"\>"], "Print",
 CellChangeTimes->{{3.6163173636963525`*^9, 3.616317365718292*^9}, 
   3.616317417898739*^9, 3.616317844171118*^9, 3.6163302573576455`*^9, {
   3.6163316354883003`*^9, 3.616331660953539*^9}, 3.6163360958471646`*^9, 
   3.616336159275262*^9, {3.616336574487626*^9, 3.61633657617744*^9}, {
   3.6163368165648375`*^9, 3.6163368401474247`*^9}, 3.6163373734408417`*^9, 
   3.616338157268326*^9, 3.616338418530488*^9, 3.6163392891263695`*^9, 
   3.616339610038742*^9, 3.6163396612972045`*^9, 3.6163403927595835`*^9, 
   3.616340538905199*^9, 3.6163406119350085`*^9, 3.6163414189677987`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"e", "::", "shdw"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"Symbol \[NoBreak]\\!\\(\\\"e\\\"\\)\[NoBreak] appears in \
multiple contexts \[NoBreak]\\!\\({\\\"Format`\\\", \\\"Global`\\\"}\\)\
\[NoBreak]; definitions in context \[NoBreak]\\!\\(\\\"Format`\\\"\\)\
\[NoBreak] may shadow or be shadowed by other definitions. \
\\!\\(\\*ButtonBox[\\\"\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", \
ButtonFrame->None, ButtonData:>\\\"paclet:ref/message/General/shdw\\\", \
ButtonNote -> \\\"Format`e::shdw\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.616337374900798*^9, 3.616338158658284*^9, 
  3.616338420020443*^9, 3.6163392905763254`*^9, 3.6163396115486965`*^9, 
  3.616339662687163*^9, 3.616340394299537*^9, 3.616340540505151*^9, 
  3.6163406134349637`*^9, 3.6163414193377876`*^9}],

Cell[BoxData["\<\"done reading AccelerateAMA\"\>"], "Print",
 CellChangeTimes->{{3.6163173636963525`*^9, 3.616317365718292*^9}, 
   3.616317417898739*^9, 3.616317844171118*^9, 3.6163302573576455`*^9, {
   3.6163316354883003`*^9, 3.616331660953539*^9}, 3.6163360958471646`*^9, 
   3.616336159275262*^9, {3.616336574487626*^9, 3.61633657617744*^9}, {
   3.6163368165648375`*^9, 3.6163368401474247`*^9}, 3.6163373734408417`*^9, 
   3.616338157268326*^9, 3.616338418530488*^9, 3.6163392891263695`*^9, 
   3.616339610038742*^9, 3.6163396612972045`*^9, 3.6163403927595835`*^9, 
   3.616340538905199*^9, 3.6163406119350085`*^9, 3.6163414194077854`*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{773, 803},
WindowMargins->{{Automatic, 221}, {85, Automatic}},
ShowSelection->True,
FrontEndVersion->"10.0 for Microsoft Windows (64-bit) (July 1, 2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Info3616327018-4143366"->{
  Cell[25320, 631, 120, 2, 42, "Print",
   CellTags->"Info3616327018-4143366"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Info3616327018-4143366", 29255, 707}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 69, 1, 101, "Title"],
Cell[652, 25, 2719, 56, 252, "Input",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[3396, 85, 37, 0, 70, "Section"],
Cell[CellGroupData[{
Cell[3458, 89, 2902, 65, 292, "Input"],
Cell[6363, 156, 224, 5, 23, "Print"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[6636, 167, 101, 1, 70, "Section"],
Cell[CellGroupData[{
Cell[6762, 172, 407, 9, 31, "Input"],
Cell[7172, 183, 240, 6, 23, "Print"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[7461, 195, 37, 0, 70, "Section"],
Cell[7501, 197, 281, 7, 31, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7819, 209, 30, 0, 70, "Section"],
Cell[7852, 211, 272, 7, 31, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8161, 223, 92, 1, 70, "Section"],
Cell[8256, 226, 320, 8, 31, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8613, 239, 114, 1, 70, "Section"],
Cell[8730, 242, 384, 8, 31, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9151, 255, 200, 3, 70, "Section"],
Cell[9354, 260, 395, 9, 31, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9786, 274, 101, 1, 70, "Section"],
Cell[CellGroupData[{
Cell[9912, 279, 13300, 315, 1392, "Input",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[23237, 598, 766, 10, 43, "Print"],
Cell[24006, 610, 683, 9, 23, "Print"],
Cell[24692, 621, 625, 8, 23, "Print"],
Cell[25320, 631, 120, 2, 42, "Print",
 CellTags->"Info3616327018-4143366"],
Cell[25443, 635, 643, 8, 23, "Print"],
Cell[26089, 645, 642, 8, 23, "Print"],
Cell[26734, 655, 640, 8, 23, "Print"]
}, Open  ]],
Cell[27389, 666, 851, 15, 39, "Message"],
Cell[28243, 683, 645, 8, 23, "Print"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
